@import '~core/css/styles';

.AMInstallButton-transition-enter {
  opacity: 0.01;
}

.AMInstallButton-transition-exit {
  display: none;
}

.AMInstallButton-transition-enter-active {
  opacity: 1;
  transition: opacity $transition-short ease;
}

.AMInstallButton {
  .AMInstallButton-button {
    white-space: nowrap;

    .Icon {
      @include padding-end(4px);

      margin-top: -2px;
    }
  }

  .AMInstallButton-button--enable {
    .Icon {
      margin-top: inherit;
    }
  }

  .AMInstallButton-loading {
    $borderRadiusReduction: 43%;
    $height: 4px;
    $heightReduction: 0.9;
    $speed: 0.53s;
    $width: 4px;
    $widthIncrease: 1.6;

    background-color: $grey-20;
    border-radius: 2px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 16px;

    @keyframes move {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(12px);
      }
    }

    [dir='rtl'] & {
      @keyframes move-rtl {
        0% {
          transform: scaleX(-1) translateX(0);
        }

        100% {
          transform: scaleX(-1) translateX(12px);
        }
      }
    }

    @keyframes squash {
      0% {
        transform: scale(1, 1);
      }

      30% {
        border-radius: $borderRadiusReduction;
        transform: scale($widthIncrease, $heightReduction);
      }

      70% {
        border-radius: $borderRadiusReduction;
        transform: scale($widthIncrease, $heightReduction);
      }

      100% {
        transform: scale(1, 1);
      }
    }

    .AMInstallButton-loading-container {
      animation: move $speed cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite
        alternate;
      height: $height;
      width: $width;

      [dir='rtl'] & {
        animation-name: move-rtl;
      }
    }

    .AMInstallButton-loading-ball {
      animation: squash $speed ease-in-out infinite alternate;
      background: $blue-60;
      border-radius: 50%;
      height: $height;
      width: $width;
    }
  }

  .AMInstallButton-loading--puffy {
    height: 48px;
    width: 48px;
  }
}
